<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</head>

<body>
    <div class="container">
        <div class="row">
            <form action="">
                <div class="form-row">
                    <div class="form-group">
                        <select name="city" id="city" class="form-control">
                            <option value="0">基隆</option>
                            <option value="1">台北</option>
                            <option value="2">新北</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <select name="district" id="district" class="form-control">
                            <option value="0">七堵區</option>
                            <option value="1">中正區</option>
                            <option value="2">暖暖區</option>
                        </select>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script>
        let districtObj = [
            ['七堵', '中正', '暖暖'],
            ['中正', '大安', '信義'],
            ['蘆洲', '三重', '新店'],
        ];

        //雙重迴圈
        //先決定city：當city欄位中的值改變時
        $('#city').change(function () {
            //測試是否抓到：console.log('city change', $(this).val())
            let cityIndex = $(this).val()


            //使用each迴圈來產生區域名稱
            let districtIndex=0;
            $('#district option').each(function () {
                console.log('hi',districtIndex);
                //測試有沒有隨迴圈印出自己想要的變數，但迴圈的要印出0、1、2的關鍵是最後districtIndex++，沒有的話這邊只會印出 "hi, 0"
                $(this).html(districtObj[cityIndex][districtIndex]);
                districtIndex++;
                //我的初始想法$(this).html(districtObj[0][0]);

            });

        })

        //注意：範例中將option寫死在html中，但此情況若遇到有的區有四個，有的三個，會造成無法讀到第四個區的狀態；因此一般而言不會寫死option，而是去操作select的DOM，select中不寫任何option，以innerHTML的方式塞入資料





    </script>

</body>

</html>